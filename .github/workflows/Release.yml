name: Release Build

on:
  workflow_dispatch:
  push:
    tags:
      - '*'
    branches: [master]
    
permissions:
  contents: write 
  packages: write

jobs:
  build:
    uses: ./.github/workflows/template_Build&Test.yml

  release:
    needs: 'build'
    uses: ./.github/workflows/template_Package.yml
    with: 
      tag: ${{ needs.build.outputs.tag }}